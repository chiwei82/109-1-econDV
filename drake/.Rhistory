stringr::str_detect(COUNTYNAME, "宜|北|基")
) %>%
ggplot() +
geom_sf()
dsf_taiwanCropped %>%
filter(
stringr::str_detect(COUNTYNAME, "宜|北|基")
) %>%
ggplot() +
geom_sf()
dsf_taiwanCropped %>%
filter(
stringr::str_detect(COUNTYNAME, "宜|北|基")
) %>%
ggplot() +
geom_sf()
dsf_taiwanCropped %>%
filter(
stringr::str_detect(COUNTYNAME, "宜|北|基")
) %>%
ggplot() +
geom_sf()
dsf_taiwanCropped %>%
filter(
stringr::str_detect(COUNTYNAME, "宜|北|基")
) %>%
ggplot() +
geom_sf()
dsf_taiwanCropped %>%
ggplot()+geom_sf()
dsf_taiwanCropped %>%
filter(
stringr::str_detect(COUNTYNAME, "宜|北|基")
)
dsf_taiwanCropped %>%
filter(
stringr::str_detect(COUNTYNAME, "宜|北|基")
) %>%
ggplot() +
geom_sf()
str(dsf_taiwanCropped)
filter(
stringr::str_detect(COUNTYNAME, "宜蘭|北|基")
)
dsf_taiwanCropped %>%
filter(
stringr::str_detect(COUNTYNAME, "宜蘭|北|基")
)
stringr::str_detect(COUNTYNAME, "宜蘭|北|基", force = T
dsf_taiwanCropped %>%
filter(
stringr::str_detect(COUNTYNAME, "宜蘭|北|基", force = T
)
dsf_taiwanCropped %>%
filter(
stringr::str_detect(COUNTYNAME, "宜蘭|北|基", force = TRUE )
stringr::str_replace(
drake$process2get$storr_rdsOptions,
"(?<=(storr_rds\())[\"[:graph:]]+(?=,)",
'file.path(.root(),".map")'
) -> drake$process2get$storr_rdsOptions
drake$activeRmd$frontmatter$drake_cache <- file.path(.root(),".map")
drake$makePlan()
library(rmd2drake)
drake$makePlan()
stringr::str_replace(
drake$process2get$storr_rdsOptions,
"(?<=(storr_rds\())[\"[:graph:]]+(?=,)",
'file.path(.root(),".map")'
) -> drake$process2get$storr_rdsOptions
stringr::str_replace(
drake$process2get$storr_rdsOptions,
"(?<=(storr_rds\())[\"[:graph:]]+(?=,)",
'file.path(.root(),".map")'
) -> drake$process2get$storr_rdsOptions
stringr::str_replace(
drake$process2get$storr_rdsOptions,
"(?<=(storr_rds\())[\"[:graph:]]+(?=,)",
'file.path(.root(),".map")'
) -> drake$process2get$storr_rdsOptions
drake$activeRmd$frontmatter$drake_cache <- file.path(.root(),".map")
stringr::str_replace(
drake$process2get$storr_rdsOptions,
"(?<=(storr_rds\\())[\"[:graph:]]+(?=,)",
'file.path(.root(),".map")'
) -> drake$process2get$storr_rdsOptions
drake$activeRmd$frontmatter$drake_cache <- file.path(.root(),".map")
drake$makePlan()
drake$source_plan()
drake$source_plan()
stringr::str_replace(
drake$process2get$storr_rdsOptions,
"(?<=(storr_rds\\())[\"[:graph:]]+(?=,)",
'file.path(.root(),".map")'
) -> drake$process2get$storr_rdsOptions
drake$activeRmd$frontmatter$drake_cache <- file.path(.root(),".map")
drake$source_plan()
drake$makePlan()
library(dplyr)
drake$makePlan()
library(rmapshaper)
drake$makePlan()
library(sf)
drake$makePlan()
dsf_taiwan <-
sf::read_sf("C:/Users/tonyf/Documents/GitHub/109-1-econDV/drake/新增資料夾")
dsf_taiwan %>%
rmapshaper::ms_simplify() -> dsf_taiwan_simplify
xfun::download_file("https://www.dropbox.com/s/7b3nbgfx5bgft8g/drake_annotationmaps.Rdata?dl=1")
load("drake_annotationmaps.Rdata")
stringr::str_replace(
drake$process2get$storr_rdsOptions,
"(?<=(storr_rds\\())[\"[:graph:]]+(?=,)",
'file.path(.root(),".map")'
) -> drake$process2get$storr_rdsOptions
drake$activeRmd$frontmatter$drake_cache <- file.path(.root(),".map")
load("drake_annotationmaps.Rdata")
load("C:\Users\tonyf\Desktop\drake_annotationmaps.Rdata")
load("C:/Users/tonyf/Desktop/drake_annotationmaps.Rdata")
stringr::str_replace(
drake$process2get$storr_rdsOptions,
"(?<=(storr_rds\\())[\"[:graph:]]+(?=,)",
'file.path(.root(),".map")'
) -> drake$process2get$storr_rdsOptions
drake$activeRmd$frontmatter$drake_cache <- file.path(.root(),".map")
library(dplyr)
library(tidyr)
library(stringr)
library(googledrive)
library(readr)
library(ggmap)
library(osmdata)
library(ggplot2)
library(econDV)
library(sf)
stringr::str_replace(
drake$process2get$storr_rdsOptions,
"(?<=(storr_rds\\())[\"[:graph:]]+(?=,)",
'file.path(.root(),".map")'
) -> drake$process2get$storr_rdsOptions
drake$activeRmd$frontmatter$drake_cache <- file.path(.root(),".map")
```
.root()
drake$source_plan()
install.packages("roots")
library(roots)
drake$source_plan()
stringr::str_replace(
drake$process2get$storr_rdsOptions,
"(?<=(storr_rds\\())[\"[:graph:]]+(?=,)",
'file.path(.root(),".map")'
) -> drake$process2get$storr_rdsOptions
drake$activeRmd$frontmatter$drake_cache <- file.path(.root(),".map")
library("osmdata")
install.packages("osmdata")
library("osmdata")
osmdata::getbb("new taipei") -> newTaipeiBBox
dsf_newTaipei <- opq(newTaipeiBBox) %>%
add_osm_feature(key="admin_level", value="5") %>%
osmdata::osmdata_sf()
newTaipeiBBox
stringr::str_subset(osmdata::available_features(), "boundary|admin")
osmdata::getbb("new taipei") -> newTaipeiBBox
dsf_newTaipei <- opq(newTaipeiBBox) %>%
add_osm_feature(key="admin_level", value="5") %>%
osmdata::osmdata_sf()
dsf_newTaipei %>%
filter(
stringr::str_detect(name, "土|三峽|板")
) %>% ggplot2::ggplot()+ggplot2::geom_sf()
library(ggplot2)
library(ggmap)
dsf_newTaipei %>%
filter(
stringr::str_detect(name, "土|三峽|板")
) %>% ggplot()+ geom_sf()
dsf_newTaipei %>%
filter(
stringr::str_detect(name, "土|峽|板")
) %>% ggplot()+ geom_sf()
dsf_newTaipei %>%
filter(
stringr::str_detect(name, "土|峽|板")
) %>% ggplot()+ geom_sf()
dsf_newTaipei$osm_multipolygons %>%
osm_geom_rename() %>% # 多插這一行
ggplot()+
geom_sf(
aes(fill=name),
color="white", size=0.2
)+
colorspace::scale_fill_discrete_qualitative()+
theme_void()
dsf_newTaipei$osm_multipolygons %>%
ggplot()+
geom_sf()
xfun::download_file("https://www.dropbox.com/s/8ndtvzqbdb4cb93/data_visulaization_pk.R?dl=1")
source("data_visulaization_pk.R", encoding = "UTF-8")
dsf_newTaipei$osm_multipolygons %>%
osm_geom_rename() %>% # 多插這一行
ggplot()+
geom_sf(
aes(fill=name),
color="white", size=0.2
)+
colorspace::scale_fill_discrete_qualitative()+
theme_void()
dsf_newTaipei$osm_multipolygons %>%
osm_geom_rename() %>% # 多插這一行
ggplot()+
geom_sf(
aes(fill=name),
color="white", size=0.2
)+
colorspace::scale_fill_discrete_qualitative()+
theme_void()
dsf_newTaipei$osm_multipolygons %>%
osm_geom_rename() %>% # 多插這一行
ggplot()+
geom_sf(
aes(fill=name),
color="white", size=0.2
)+
colorspace::scale_fill_discrete_qualitative()+
theme_void()
dsf_newTaipei$osm_multipolygons %>%
osm_geom_rename() %>% # 多插這一行
ggplot()+
geom_sf(
aes(fill=name),
color="white", size=0.2
)+
colorspace::scale_fill_discrete_qualitative()+
theme_void()
dsf_newTaipei$osm_multipolygons %>%
osm_geom_rename()
library(dplyr)
library(tidyr)
library(stringr)
library(googledrive)
library(readr)
library(ggmap)
library(osmdata)
library(ggplot2)
library(econDV)
library(sf)
dsf_newTaipei$osm_multipolygons %>%
osm_geom_rename() %>% # 多插這一行
ggplot()+
geom_sf(
aes(fill=name),
color="white", size=0.2
)+
colorspace::scale_fill_discrete_qualitative()+
theme_void()
osmdata::getbb("new taipei") -> newTaipeiBBox
newTaipeiBBox
library(sf)
library(osmdata)
library(ggmap)
dsf_newTaipei %>%
filter(
stringr::str_detect(name, "土|峽|板")
) %>% ggplot()+ geom_sf()
install.packages("tibble")
dsf_newTaipei %>%
filter(
stringr::str_detect(name, "土|峽|板")
) %>% ggplot()+ geom_sf()
library(dplyr)
dsf_newTaipei %>%
filter(
stringr::str_detect(name, "土|峽|板")
) %>% ggplot()+ geom_sf()
library(ggplot2)
library(ggmap)
library(sf)
library(dplyr)
library(tidyr)
library(stringr)
library(googledrive)
library(readr)
library(ggmap)
library(osmdata)
library(ggplot2)
library(econDV)
library(sf)
dsf_newTaipei %>%
filter(
stringr::str_detect(name, "土|峽|板")
) %>% ggplot()+ geom_sf()
dsf_newTaipei %>%
filter(
stringr::str_detect(name, "土|峽|板")
) %>% ggplot()+ geom_sf()
dsf_newTaipei %>%
dplye::filter(
stringr::str_detect(name, "土|峽|板")
) %>% ggplot()+ geom_sf()
dsf_newTaipei %>%
dplyr::filter(
stringr::str_detect(name, "土|峽|板")
) %>% ggplot()+ geom_sf()
dplyr::filter(
stringr::str_detect(name, "土|峽|板")
)
dsf_newTaipei %>%
dplyr::filter(
stringr::str_detect(name, "土|峽|板")
)
dsf_newTaipei %>%
dplyr::filter(
stringr::str_detect(name, "土|峽|板")
) %>% ggplot()+ geom_sf()
dsf_newTaipei %>%
dplyr::filter(
stringr::str_detect(name, "土|峽|板")
) %>% ggplot()+ geom_sf()
library(dplyr)
library(tidyr)
library(stringr)
library(googledrive)
library(readr)
library(ggmap)
library(osmdata)
library(ggplot2)
library(econDV)
library(sf)
library(tibble)
dsf_newTaipei %>%
dplyr::filter(
stringr::str_detect(name, "土|峽|板")
) %>% ggplot()+ geom_sf()
dsf_newTaipei %>%
dplyr::filter(
stringr::str_detect(name, "土|峽|板")
) %>% ggplot()+ geom_sf()
dsf_taiwanCropped %>%
ggplot()+geom_sf()
library("osmdata")
osmdata::getbb("new taipei") -> newTaipeiBBox
newTaipeiBBox
stringr::str_subset(osmdata::available_features(), "boundary|admin")
osmdata::getbb("new taipei") -> newTaipeiBBox
dsf_newTaipei <- opq(newTaipeiBBox) %>%
add_osm_feature(key="admin_level", value="5") %>%
osmdata::osmdata_sf()
dsf_newTaipei$osm_multipolygons %>%
osm_geom_rename() %>% # 多插這一行
ggplot()+
geom_sf(
aes(fill=name),
color="white", size=0.2
)+
colorspace::scale_fill_discrete_qualitative()+
theme_void()
) %>% ggplot()+ geom_sf()
dsf_newTaipei %>%
ggplot()+ geom_sf()
dsf_newTaipei %>% ggplot()+ geom_sf()
dsf_newTaipei$osm_multipolygons %>% ggplot()+ geom_sf()
dsf_newTaipei$osm_multipolygons %>% osm_geom_rename() %>% ggplot()+ geom_sf()
dsf_newTaipei%>% osm_geom_rename() %>%
dplyr::filter(
stringr::str_detect(name, "土|峽|板")
) %>%
ggplot()+ geom_sf()
dsf_newTaipei %>%
dplyr::filter(
stringr::str_detect(name, "土|峽|板")
)  %>% ggplot()+ geom_sf()
library(dplyr)
library(tidyr)
library(stringr)
library(googledrive)
library(readr)
library(ggmap)
library(osmdata)
library(ggplot2)
library(econDV)
library(sf)
library(tibble)
dsf_newTaipei$osm_multipolygons %>%
osm_geom_rename() %>%
dplyr::filter(
stringr::str_detect(name, "三峽|土城|板橋")
) %>%
ggplot()+geom_sf()
dsf_newTaipei$osm_multipolygons %>%
osm_geom_rename() %>%
dplyr::filter(
stringr::str_detect(name, "峽|土|板")
) %>%
ggplot()+geom_sf()
dsf_newTaipei$osm_multipolygons %>%
osm_geom_rename() %>%
dplyr::filter(stringr::str_detect(name, "峽|土|板")
) %>%
ggplot()+geom_sf()
dsf_newTaipei$osm_multipolygons
dsf_newTaipei$osm_multipolygons %>%
osm_geom_rename() %>%
dplyr::filter(stringr::str_detect(name, "峽|土|板")
) %>%
ggplot()+geom_sf()
knitr::opts_chunk$set(echo = TRUE, eval=F)
library(drake)
library(econDV)
library(dplyr)
dsf_newTaipei$osm_multipolygons
dsf_newTaipei$osm_multipolygons %>%
osm_geom_rename() %>% # 多插這一行
ggplot()+
geom_sf(
aes(fill=name),
color="white", size=0.2
)+
colorspace::scale_fill_discrete_qualitative()+
theme_void()
library(ggplot2)
library(ggmap)
osmdata::getbb("new taipei") -> newTaipeiBBox
dsf_newTaipei <- opq(newTaipeiBBox) %>%
add_osm_feature(key="admin_level", value="5") %>%
osmdata::osmdata_sf()
library(osmdata)
library(dplyr)
library(tidyr)
library(stringr)
library(googledrive)
library(readr)
library(ggmap)
library(osmdata)
library(ggplot2)
library(econDV)
library(sf)
library(tibble)
font_families_google() %>%
stringr::str_subset(regex("noto", ignore_case = T))
font_add_google("Noto Sans TC")
rprojroot::is_rstudio_project -> .pj
.pj$make_fix_file() -> .root
imageFolder <- file.path(.root(),"img")
dataFolder <- file.path(.root(),"data")
if(!dir.exists(imageFolder)) dir.create(imageFolder)
if(!dir.exists(dataFolder)) dir.create(dataFolder)
xfun::download_file("https://www.dropbox.com/s/7b3nbgfx5bgft8g/drake_annotationmaps.Rdata?dl=1")
load("C:/Users/tonyf/Desktop/drake_annotationmaps.Rdata")
stringr::str_replace(
drake$process2get$storr_rdsOptions,
"(?<=(storr_rds\\())[\"[:graph:]]+(?=,)",
'file.path(.root(),".map")'
) -> drake$process2get$storr_rdsOptions
drake$activeRmd$frontmatter$drake_cache <- file.path(.root(),".map")
xfun::download_file("https://www.dropbox.com/s/8ndtvzqbdb4cb93/data_visulaization_pk.R?dl=1")
source("data_visulaization_pk.R", encoding = "UTF-8")
library(showtext)
detach("package:showtextdb", unload = TRUE)
library(showtextdb)
dsf_newTaipei$osm_multipolygons %>%
osm_geom_rename() %>%
dplyr::filter(stringr::str_detect(name, "峽|土|板")
) %>%
ggplot()+geom_sf()
.
dsf_newTaipei$osm_multipolygons %>%
osm_geom_rename() %>%
dplyr::filter(stringr::str_detect(name, "峽|土|板")
) %>%
ggplot()+geom_sf()
osmdata::getbb("new taipei") -> newTaipeiBBox
dsf_newTaipei <- opq(newTaipeiBBox) %>%
add_osm_feature(key="admin_level", value="5") %>%
osmdata::osmdata_sf()
dsf_newTaipei$osm_multipolygons %>%
osm_geom_rename() %>%
dplyr::filter(stringr::str_detect(name, "峽|土|板")
) %>%
ggplot()+geom_sf()
dsf_newTaipei
dsf_newTaipei$osm_multipolygons
library("ggmap")
register_google( key = "AIzaSyBA0wN6WtykE00RN1bMMv0P9YPNIVgtR3U" , write = TRUE )
knitr::opts_chunk$set(echo = TRUE, eval=F)
library(drake)
library(econDV)
library(dplyr)
library(dplyr)
library(tidyr)
library(stringr)
library(googledrive)
library(readr)
library(ggmap)
library(osmdata)
library(ggplot2)
library(econDV)
library(sf)
library(tibble)
library(readr)
library(showtextdb)
.ghToken="cef19342f50cc7fc4cc56e685f1543d99f88d70b"
install.packages("devtools")
install.packages("remotes")
remotes::install_github(
"tpemartin/econDV" ,
force = TRUE
)
library(econDV)
init_courseSetup()
remotes::install_github("tpemartin/econDV", force =T)
library(econDV)
init_courseSetup()
